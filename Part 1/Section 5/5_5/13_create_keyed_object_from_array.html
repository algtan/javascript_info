<!DOCTYPE html>

<script>
    function groupById(arr) {
        // Create an empty object
        let keyById = {};

        for (let i = 0; i < arr.length; i++) {
            keyById[arr[i].id] = arr[i];
        }

        return keyById;
    }

    let users = [
        {id: 'john', name: "John Smith", age: 20},
        {id: 'ann', name: "Ann Smith", age: 24},
        {id: 'pete', name: "Pete Peterson", age: 31},
    ];

    let usersById = groupById(users);

    /*
    // after the call we should have:

    usersById = {
        john: {id: 'john', name: "John Smith", age: 20},
        ann: {id: 'ann', name: "Ann Smith", age: 24},
        pete: {id: 'pete', name: "Pete Peterson", age: 31},
    }
    */
    
    for (let key in usersById) {
        alert( `${key} is the key for ${usersById[key].name}` );
        // when using a variable as the key, we cannot use dot notation
        // we need to use brackets
    }
</script>